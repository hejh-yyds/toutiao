{"version":3,"file":"js/696.ffb5d524.js","mappings":"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","sources":["webpack://heima-toutiao/./src/views/home/index.vue","webpack://heima-toutiao/./src/views/home/component/article-list.vue","webpack://heima-toutiao/./src/components/article-item/index.vue","webpack://heima-toutiao/src/components/article-item/index.vue","webpack://heima-toutiao/./src/components/article-item/index.vue?8ea9","webpack://heima-toutiao/./src/components/article-item/index.vue?755c","webpack://heima-toutiao/src/views/home/component/article-list.vue","webpack://heima-toutiao/./src/views/home/component/article-list.vue?976f","webpack://heima-toutiao/./src/views/home/component/article-list.vue?a3c2","webpack://heima-toutiao/./src/views/home/component/channel-edit.vue","webpack://heima-toutiao/./src/api/channel.js","webpack://heima-toutiao/src/views/home/component/channel-edit.vue","webpack://heima-toutiao/./src/views/home/component/channel-edit.vue?fd40","webpack://heima-toutiao/./src/views/home/component/channel-edit.vue?cf30","webpack://heima-toutiao/src/views/home/index.vue","webpack://heima-toutiao/./src/views/home/index.vue?4399","webpack://heima-toutiao/./src/views/home/index.vue?938d","webpack://heima-toutiao/./src/api/article.js","webpack://heima-toutiao/./src/api/user.js"],"sourcesContent":["var render = function render(){var _vm=this,_c=_vm._self._c;return _c('div',{staticClass:\"home-container\"},[_c('van-nav-bar',{staticClass:\"page-nav-bar\",attrs:{\"fixed\":\"\"}},[_c('van-button',{staticClass:\"search-btn\",attrs:{\"slot\":\"title\",\"type\":\"info\",\"round\":\"\",\"icon\":\"search\",\"size\":\"small\"},on:{\"click\":function($event){return _vm.$router.push('/search')}},slot:\"title\"},[_vm._v(\"搜索\")])],1),_c('van-tabs',{staticClass:\"channel-tabs\",attrs:{\"animated\":\"\",\"swipeable\":\"\",\"sticky\":\"\"},model:{value:(_vm.active),callback:function ($$v) {_vm.active=$$v},expression:\"active\"}},[_vm._l((_vm.channels),function(channel){return _c('van-tab',{key:channel.id,attrs:{\"title\":channel.name}},[_c('articleList',{attrs:{\"channel\":channel}})],1)}),_c('div',{staticClass:\"placeholder\",attrs:{\"slot\":\"nav-right\"},slot:\"nav-right\"}),_c('div',{staticClass:\"more-btn\",attrs:{\"slot\":\"nav-right\"},on:{\"click\":function($event){_vm.isChannelEditShow=true}},slot:\"nav-right\"},[_c('i',{staticClass:\"toutiao toutiao-gengduo\"})])],2),_c('van-popup',{style:({ height: '100%' }),attrs:{\"closeable\":\"\",\"position\":\"bottom\",\"close-icon-position\":\"top-left\"},model:{value:(_vm.isChannelEditShow),callback:function ($$v) {_vm.isChannelEditShow=$$v},expression:\"isChannelEditShow\"}},[_c('channel-edit',{attrs:{\"my-channels\":_vm.channels,\"active\":_vm.active},on:{\"update-active\":_vm.onUpdateActive}})],1)],1)\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function render(){var _vm=this,_c=_vm._self._c;return _c('div',{staticClass:\"article-list\"},[_c('van-pull-refresh',{attrs:{\"success-text\":_vm.RefreshSuccessText,\"success-duration\":\"1000\"},on:{\"refresh\":_vm.onRefresh},model:{value:(_vm.isRefreshLoading),callback:function ($$v) {_vm.isRefreshLoading=$$v},expression:\"isRefreshLoading\"}},[_c('van-list',{attrs:{\"finished\":_vm.finished,\"finished-text\":\"没有更多了\",\"error\":_vm.error,\"error-text\":\"请求失败，点击重新加载\"},on:{\"load\":_vm.onLoad,\"update:error\":function($event){_vm.error=$event}},model:{value:(_vm.loading),callback:function ($$v) {_vm.loading=$$v},expression:\"loading\"}},_vm._l((_vm.list),function(item,index){return _c('article-item',{key:index,attrs:{\"article\":item}})}),1)],1)],1)\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function render(){var _vm=this,_c=_vm._self._c;return _c('div',{staticClass:\"article-item\"},[_c('van-cell',{attrs:{\"to\":{\r\n      name:'article',\r\n      params:{\r\n        articleId:_vm.article.art_id\r\n      }\r\n    }}},[_c('div',{staticClass:\"title van-multi-ellipsis--l2\",attrs:{\"slot\":\"title\"},slot:\"title\"},[_vm._v(\" \"+_vm._s(_vm.article.title)+\" \")]),_c('div',{staticClass:\"description\",attrs:{\"slot\":\"label\"},slot:\"label\"},[(_vm.article.cover.type===3)?_c('div',{staticClass:\"cover-wrap\"},_vm._l((_vm.article.cover.images),function(img,index){return _c('div',{key:index,staticClass:\"cover-item\"},[_c('van-image',{staticClass:\"cover-item-img\",attrs:{\"src\":img}})],1)}),0):_vm._e(),_c('span',[_vm._v(_vm._s(_vm.article.aut_name))]),_c('span',[_vm._v(_vm._s(_vm.article.comm_count)+\"评论\")]),_c('span',[_vm._v(_vm._s(_vm._f(\"relativeTime\")(_vm.article.pubdate)))])]),(_vm.article.cover.type===1)?_c('van-image',{staticClass:\"right-cover\",attrs:{\"slot\":\"default\",\"src\":_vm.article.cover.images[0],\"fit\":\"cover\"},slot:\"default\"}):_vm._e()],1)],1)\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n  <div class=\"article-item\">\r\n\r\n    <!-- 路由传参，to属性与router-link的用法相同 -->\r\n    <van-cell :to=\"{\r\n      name:'article',\r\n      params:{\r\n        articleId:article.art_id\r\n      }\r\n    }\">\r\n      <!-- 标题 -->\r\n      <!-- van-multi-ellipsis--l2代表文字最多显示两行，然后省略 -->\r\n      <div class=\"title van-multi-ellipsis--l2\" slot=\"title\">\r\n        {{article.title}}\r\n      </div>\r\n\r\n      <!-- 文章的发布信息 -->\r\n      <div class=\"description\" slot=\"label\">\r\n\r\n        <!-- 文章封面 -->\r\n\r\n        <div class=\"cover-wrap\" v-if=\"article.cover.type===3\">\r\n          <div class=\"cover-item\" v-for=\"(img,index) in article.cover.images\" :key=\"index\">\r\n            <van-image class=\"cover-item-img\" :src=\"img\" />\r\n          </div>\r\n        </div>\r\n        <span>{{article.aut_name}}</span>\r\n        <span>{{article.comm_count}}评论</span>\r\n        <span>{{article.pubdate|relativeTime}}</span>\r\n      </div>\r\n\r\n      <!-- 右侧图片情况 -->\r\n      <van-image class=\"right-cover\" :src=\"article.cover.images[0]\" v-if=\"article.cover.type===1\" slot=\"default\" fit=\"cover\"/>\r\n    </van-cell>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nexport default {\r\n  name: 'articleItem',\r\n\r\n  props: {\r\n    article: {\r\n      type: Object,\r\n      required: true\r\n    }\r\n  },\r\n\r\n  data () {\r\n    return {}\r\n  },\r\n\r\n  mounted () {},\r\n\r\n  methods: {}\r\n}\r\n</script>\r\n\r\n<style lang=\"less\" scoped>\r\n\r\n  .article-item{\r\n\r\n    .title {\r\n    font-size: 32px;\r\n    color: #3a3a3a;\r\n  }\r\n    // 设置一图一文的情况\r\n    // 右侧图片固定大小，左侧文字flex布局\r\n    .van-cell__value{\r\n      flex: unset;\r\n      width: 232px;\r\n      height: 146px;\r\n      padding-left: 25px;\r\n    }\r\n\r\n    .right-cover{\r\n      width: 232px;\r\n      height: 146px;\r\n    }\r\n\r\n    .description span {\r\n    font-size: 22px;\r\n    color: #b4b4b4;\r\n    margin-right: 25px;\r\n  }\r\n\r\n  .cover-wrap {\r\n    display: flex;\r\n    padding: 30px 0;\r\n    .cover-item {\r\n      flex: 1;\r\n      height: 146px;\r\n      &:not(:last-child) {\r\n        padding-right: 4px;\r\n      }\r\n      .cover-item-img {\r\n        width: 100%;\r\n        height: 146px;\r\n      }\r\n    }\r\n  }\r\n  }\r\n</style>\r\n","import mod from \"-!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./index.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./index.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./index.vue?vue&type=template&id=30d01e50&scoped=true&\"\nimport script from \"./index.vue?vue&type=script&lang=js&\"\nexport * from \"./index.vue?vue&type=script&lang=js&\"\nimport style0 from \"./index.vue?vue&type=style&index=0&id=30d01e50&prod&lang=less&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/@vue/vue-loader-v15/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"30d01e50\",\n  null\n  \n)\n\nexport default component.exports","<template>\r\n  <div class=\"article-list\">\r\n    <!-- 下拉刷新 -->\r\n    <van-pull-refresh\r\n      v-model=\"isRefreshLoading\"\r\n      :success-text=\"RefreshSuccessText\"\r\n      @refresh=\"onRefresh\"\r\n      success-duration=\"1000\"\r\n    >\r\n      <!-- 列表组件 -->\r\n      <van-list\r\n        v-model=\"loading\"\r\n        :finished=\"finished\"\r\n        finished-text=\"没有更多了\"\r\n        @load=\"onLoad\"\r\n        :error.sync=\"error\"\r\n        error-text=\"请求失败，点击重新加载\"\r\n      >\r\n        <!-- <van-cell v-for=\"(item,index) in list\" :key=\"index\" :title=\"item.title\" /> -->\r\n\r\n        <article-item\r\n          v-for=\"(item, index) in list\"\r\n          :key=\"index\"\r\n          :article=\"item\"\r\n        >\r\n        </article-item>\r\n      </van-list>\r\n    </van-pull-refresh>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport { getArticle } from '@/api/article.js'\r\n\r\nimport articleItem from '@/components/article-item/index.vue'\r\nexport default {\r\n  name: 'ArticleList',\r\n\r\n  components: {\r\n    articleItem\r\n  },\r\n\r\n  props: {\r\n    channel: {\r\n      type: Object,\r\n      required: true\r\n    }\r\n  },\r\n\r\n  data () {\r\n    return {\r\n      list: [],\r\n      loading: false,\r\n      finished: false,\r\n      timestamp: null,\r\n      error: false,\r\n      isRefreshLoading: false,\r\n      RefreshSuccessText: '刷新成功'\r\n    }\r\n  },\r\n\r\n  mounted () {},\r\n\r\n  methods: {\r\n    // 下拉刷新\r\n\r\n    async onRefresh () {\r\n      try {\r\n        const { data: res } = await getArticle({\r\n          channel_id: this.channel.id,\r\n          timestamp: Date.now(), // 每次请求最新的数据\r\n          with_top: 1\r\n        })\r\n\r\n        this.list.unshift(...res.data.results)\r\n\r\n        this.isRefreshLoading = false\r\n\r\n        this.RefreshSuccessText = `刷新成功,本次刷新了${res.data.results.length}条数据`\r\n      } catch (err) {\r\n        this.isRefreshLoading = false\r\n        this.RefreshSuccessText = '刷新失败，请稍后再试'\r\n      }\r\n    },\r\n\r\n    // 获取文章列表\r\n    async onLoad () {\r\n      try {\r\n        const { data: res } = await getArticle({\r\n          channel_id: this.channel.id,\r\n          timestamp: this.timestamp || Date.now(),\r\n          with_top: 1\r\n        })\r\n\r\n        console.log(res.data.results)\r\n\r\n        this.list = [...this.list, ...res.data.results]\r\n\r\n        // 设置加载完成的\r\n        this.loading = false\r\n\r\n        // 判断数据是否加载完成\r\n        if (res.data.results.length) {\r\n          // 赋予前一页的时间戳\r\n          this.timestamp = res.data.pre_timestamp\r\n        } else {\r\n          this.finished = true\r\n        }\r\n      } catch (err) {\r\n        // this.$toast('获取文章列表失败')\r\n        this.loading = false\r\n        this.error = true\r\n      }\r\n    }\r\n  }\r\n}\r\n</script>\r\n\r\n<style lang=\"less\" scoped>\r\n// 为每个文章列表设置自己的滚动容器\r\n.article-list {\r\n  height: 79vh; // 调试工具调试出来\r\n  overflow-y: auto;\r\n}\r\n</style>\r\n","import mod from \"-!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./article-list.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./article-list.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./article-list.vue?vue&type=template&id=98323342&scoped=true&\"\nimport script from \"./article-list.vue?vue&type=script&lang=js&\"\nexport * from \"./article-list.vue?vue&type=script&lang=js&\"\nimport style0 from \"./article-list.vue?vue&type=style&index=0&id=98323342&prod&lang=less&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/@vue/vue-loader-v15/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"98323342\",\n  null\n  \n)\n\nexport default component.exports","var render = function render(){var _vm=this,_c=_vm._self._c;return _c('div',{staticClass:\"channel-edit\"},[_c('van-cell',{attrs:{\"title\":\"我的频道\"}},[_c('van-button',{staticClass:\"edit-btn\",attrs:{\"type\":\"danger\",\"plain\":\"\",\"round\":\"\",\"size\":\"mini\"},on:{\"click\":_vm.onToggleEdit}},[_vm._v(_vm._s(_vm.editText))])],1),_c('van-grid',{staticClass:\"my-grid\",attrs:{\"gutter\":10}},_vm._l((_vm.myChannels2),function(channel,index){return _c('van-grid-item',{key:index,staticClass:\"channel-item\",attrs:{\"icon\":_vm.isEdit&&!_vm.fixedChannel.includes(channel.id) ? 'close': ''},on:{\"click\":function($event){return _vm.onRemoveChannel(channel,index)}}},[_c('span',{staticClass:\"text\",class:{active:index===_vm.active},attrs:{\"slot\":\"text\"},slot:\"text\"},[_vm._v(_vm._s(channel.name))])])}),1),_c('van-cell',{attrs:{\"title\":\"推荐频道\"}}),_c('van-grid',{staticClass:\"recommend-grid\",attrs:{\"gutter\":10}},_vm._l((_vm.recommendChannels),function(channel,index){return _c('van-grid-item',{key:index,staticClass:\"channel-item\",attrs:{\"text\":channel.name,\"icon\":\"plus\"},on:{\"click\":function($event){return _vm.onAddChannel(channel)}}})}),1)],1)\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","// 获取所有的频道\r\nimport request from './request'\r\n\r\nexport const getAllChannels = () => {\r\n  return request({\r\n    url: '/v1_0/channels',\r\n    method: 'GET'\r\n\r\n  })\r\n}\r\n\r\n// 添加频道\r\nexport const addChannel = channel => {\r\n  return request({\r\n    url: '/v1_0/user/channels',\r\n    method: 'PATCH',\r\n    data: {\r\n      channels: [channel]\r\n    }\r\n  })\r\n}\r\n\r\n// 删除用户频道\r\nexport const deleteUserChannel = channelId => {\r\n  return request({\r\n    url: `/v1_0/user/channels/${channelId}`,\r\n    method: 'DELETE'\r\n\r\n  })\r\n}\r\n","<template>\r\n  <div class=\"channel-edit\">\r\n    <van-cell title=\"我的频道\">\r\n\r\n      <van-button type=\"danger\" plain round size=\"mini\" class=\"edit-btn\" @click=\"onToggleEdit\">{{editText}}</van-button>\r\n    </van-cell>\r\n\r\n    <!-- 格子间距的宫格 -->\r\n    <van-grid :gutter=\"10\" class=\"my-grid\">\r\n      <van-grid-item @click=\"onRemoveChannel(channel,index)\" v-for=\"(channel,index) in myChannels2\" :key=\"index\"  class=\"channel-item\" :icon=\"isEdit&&!fixedChannel.includes(channel.id) ? 'close': ''\">\r\n        <span slot=\"text\" class=\"text\" :class=\"{active:index===active}\">{{channel.name}}</span>\r\n      </van-grid-item>\r\n    </van-grid>\r\n\r\n    <!-- 推荐频道 -->\r\n    <van-cell title=\"推荐频道\">\r\n\r\n      <!-- <van-button type=\"danger\" plain round size=\"mini\">编辑</van-button> -->\r\n    </van-cell>\r\n\r\n    <!-- 格子间距的宫格 -->\r\n    <van-grid :gutter=\"10\" class=\"recommend-grid\">\r\n      <van-grid-item @click=\"onAddChannel(channel)\" v-for=\"(channel,index) in recommendChannels\" :key=\"index\" :text=\"channel.name\" class=\"channel-item\" icon=\"plus\"/>\r\n    </van-grid>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\n// 获取所有文章的列表\r\nimport { getAllChannels, addChannel, deleteUserChannel } from '@/api/channel.js'\r\n\r\n// 本地存储的工具包\r\nimport { setItem } from '@/utils/storage.js'\r\n\r\n// 导入vuex中的user，判断登录状态\r\nimport { mapState } from 'vuex'\r\nexport default {\r\n  name: 'ChannelEdit',\r\n\r\n  data () {\r\n    return {\r\n      allChannels: [],\r\n      myChannels2: [],\r\n      isEdit: false,\r\n      editText: '编辑',\r\n      fixedChannel: [0, 1, 2]\r\n    }\r\n  },\r\n\r\n  props: {\r\n    myChannels: {\r\n      type: Array,\r\n      required: true\r\n    },\r\n\r\n    active: {\r\n      type: Number,\r\n      required: true\r\n    }\r\n  },\r\n\r\n  computed: {\r\n\r\n    // 推荐频道=所有频道-我的频道\r\n\r\n    ...mapState(['user']),\r\n\r\n    recommendChannels () {\r\n      return this.allChannels.filter(channels => {\r\n        return !this.myChannels2.find(myChannel => {\r\n          return myChannel.id === channels.id\r\n        })\r\n      })\r\n    }\r\n  },\r\n\r\n  created () {\r\n    // 获取所有频道\r\n    this.loadAllChannels()\r\n    this.myChannels2 = this.myChannels\r\n  },\r\n\r\n  methods: {\r\n\r\n    // 定义删除频道的方法\r\n    async deleteChannel (channelId) {\r\n      if (this.user) {\r\n        // 判断用户是否已经登录\r\n        try {\r\n          await deleteUserChannel(channelId)\r\n        } catch (err) {\r\n          this.$toast('删除用户频道失败')\r\n        }\r\n      } else {\r\n        setItem('TOUTIAO_CHANNELS', this.myChannels2)\r\n      }\r\n    },\r\n\r\n    // 将我的频道的内容移出\r\n    onRemoveChannel (rChannel, index) {\r\n      if (this.isEdit) {\r\n        // 如果是固定频道，则不能删除\r\n        if (this.fixedChannel.includes(rChannel.id)) {\r\n          return\r\n        }\r\n\r\n        this.myChannels2 = this.myChannels2.filter(channels => channels.id !== rChannel.id)\r\n\r\n        this.deleteChannel(rChannel.id)\r\n        this.loadAllChannels()\r\n\r\n        // 让频道被删除后，激活的项不变\r\n        if (index <= this.active) {\r\n          this.$emit('update-active', this.active - 1, true)\r\n        }\r\n      } else {\r\n        // 切换频道\r\n        this.$emit('update-active', index, false)\r\n      }\r\n    },\r\n\r\n    // 切换编辑状态\r\n    onToggleEdit () {\r\n      if (this.editText === '编辑') {\r\n        this.editText = '完成'\r\n        this.isEdit = true\r\n      } else {\r\n        this.editText = '编辑'\r\n        this.isEdit = false\r\n      }\r\n    },\r\n\r\n    // 将推荐频道的内容加到我的频道\r\n    async onAddChannel (channel) {\r\n      this.myChannels2.push(channel)\r\n\r\n      // 判断用户是否已经登录\r\n      if (this.user) {\r\n        // console.log(1)\r\n        try {\r\n          await addChannel({\r\n            id: channel.id,\r\n            seq: this.myChannels2.length\r\n          })\r\n        } catch (err) {\r\n          this.$toast('添加频道失败')\r\n        }\r\n      } else {\r\n        // 更新本地存存储中的数据\r\n        setItem('TOUTIAO_CHANNELS', this.myChannels2)\r\n      }\r\n    },\r\n\r\n    async loadAllChannels () {\r\n      try {\r\n        const { data: res } = await getAllChannels()\r\n        console.log(res)\r\n        this.allChannels = res.data.channels\r\n      } catch (err) {\r\n        this.$toast('获取频道失败')\r\n      }\r\n    }\r\n  }\r\n}\r\n</script>\r\n\r\n<style lang=\"less\" scoped>\r\n  .channel-edit{\r\n    padding: 85px 0px;\r\n\r\n    // 左上角的叉号\r\n    /deep/ .my-grid{\r\n      .channel-item{\r\n\r\n        .active{\r\n          color: red !important;\r\n        }\r\n        .van-icon-close{\r\n          position: absolute;\r\n          top: -10px;\r\n          right: -10px;\r\n          font-size: 30px;\r\n        }\r\n      }\r\n    }\r\n\r\n    // 推荐频道宫格的水平布局\r\n    /deep/.recommend-grid{\r\n      .van-grid-item__content{\r\n        flex-direction: unset;\r\n\r\n        .van-icon-plus{\r\n          font-size: 24px;\r\n        }\r\n\r\n      }\r\n    }\r\n\r\n    // 编辑按钮的样式\r\n    .edit-btn{\r\n      width: 104px;\r\n      height: 48px;\r\n\r\n      font-size: 26px;\r\n    }\r\n\r\n    /deep/.channel-item{\r\n      height: 86px;\r\n      width: 160px;\r\n\r\n      .van-grid-item__content{\r\n        background-color: #f4f5f6;\r\n\r\n        // 设置不折行\r\n        white-space: nowrap;\r\n\r\n        .van-grid-item__text,.text {\r\n        color: #222;\r\n        font-size: 28px;\r\n        margin-top: 0px;\r\n      }\r\n      }\r\n\r\n    }\r\n  }\r\n</style>\r\n","import mod from \"-!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./channel-edit.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./channel-edit.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./channel-edit.vue?vue&type=template&id=269a3626&scoped=true&\"\nimport script from \"./channel-edit.vue?vue&type=script&lang=js&\"\nexport * from \"./channel-edit.vue?vue&type=script&lang=js&\"\nimport style0 from \"./channel-edit.vue?vue&type=style&index=0&id=269a3626&prod&lang=less&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/@vue/vue-loader-v15/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"269a3626\",\n  null\n  \n)\n\nexport default component.exports","<template>\r\n  <div class=\"home-container\">\r\n\r\n    <!-- 导航栏 -->\r\n    <van-nav-bar class=\"page-nav-bar\" fixed>\r\n\r\n      <van-button type=\"info\" slot=\"title\" round icon=\"search\" size=\"small\" class=\"search-btn\" @click=\"$router.push('/search')\">搜索</van-button>\r\n\r\n    </van-nav-bar>\r\n\r\n    <!-- 标签导航 -->\r\n\r\n    <van-tabs v-model=\"active\" animated swipeable sticky class=\"channel-tabs\">\r\n      <van-tab :title=\"channel.name\" v-for=\"channel in channels\" :key=\"channel.id\">\r\n\r\n        <articleList :channel=\"channel\"></articleList>\r\n\r\n      </van-tab>\r\n\r\n      <!-- 占位符，用于代表右侧汉堡按钮的空间 -->\r\n      <div slot=\"nav-right\" class=\"placeholder\"></div>\r\n\r\n      <!-- 汉堡按钮的插槽 -->\r\n      <div slot=\"nav-right\" class=\"more-btn\" @click=\"isChannelEditShow=true\">\r\n\r\n        <i class=\"toutiao toutiao-gengduo\"></i>\r\n      </div>\r\n    </van-tabs>\r\n\r\n    <!-- 频道编辑的弹出层 -->\r\n    <van-popup v-model=\"isChannelEditShow\" closeable position=\"bottom\" close-icon-position=\"top-left\" :style=\"{ height: '100%' }\">\r\n      <channel-edit :my-channels=\"channels\" :active=\"active\" @update-active=\"onUpdateActive\"></channel-edit>\r\n    </van-popup>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport { getUserChannel } from '@/api/user.js'\r\n// 导入文章列表组件\r\nimport articleList from '@/views/home/component/article-list.vue'\r\n// 导入频道编辑组件\r\nimport channelEdit from '@/views/home/component/channel-edit.vue'\r\n\r\n// 导入vuex中的user，用于判断登录状态\r\nimport { mapState } from 'vuex'\r\nimport { getItem } from '@/utils/storage'\r\n// import\r\nexport default {\r\n  name: 'homeIndex',\r\n\r\n  components: {\r\n    articleList,\r\n    channelEdit\r\n  },\r\n\r\n  created () {\r\n    this.loadChannel()\r\n  },\r\n\r\n  methods: {\r\n\r\n    // 切换频道\r\n    onUpdateActive (index, isEditShow = true) {\r\n      this.active = index\r\n      // console.log(index)\r\n      this.isChannelEditShow = isEditShow\r\n    },\r\n\r\n    async loadChannel () {\r\n      try {\r\n        //  频道列表的正确获取方式，如果登录，正常获取，未登录，获取本地存储中的数据\r\n\r\n        if (this.user) {\r\n          // 用户已经登录\r\n          const { data: res } = await getUserChannel()\r\n          console.log(res)\r\n          console.log(1)\r\n          this.channels = res.data.channels\r\n        } else {\r\n          // 判断本地存储的的频道是否存在\r\n\r\n          if (getItem('TOUTIAO_CHANNELS')) {\r\n            this.channels = getItem('TOUTIAO_CHANNELS')\r\n          } else {\r\n            // 获取默认的频道列表\r\n            const { data: res } = await getUserChannel()\r\n            console.log(res)\r\n            console.log(1)\r\n            this.channels = res.data.channels\r\n          }\r\n        }\r\n      } catch (err) {\r\n        this.$toast('获取用户频道失败')\r\n      }\r\n    }\r\n  },\r\n\r\n  data () {\r\n    return {\r\n      active: 0,\r\n      channels: [],\r\n      // 控制弹出层是否显示\r\n      isChannelEditShow: false\r\n    }\r\n  },\r\n\r\n  computed: {\r\n    ...mapState(['user'])\r\n  }\r\n}\r\n</script>\r\n\r\n<style lang=\"less\" scoped>\r\n.home-container {\r\n  // 设置顶部频道栏固定定位\r\n  /deep/.van-tabs__wrap {\r\n    position: fixed;\r\n    top: 92px;\r\n    left: 0;\r\n    right: 0;\r\n    z-index: 10;\r\n  }\r\n\r\n  // 设置padding-buttom，防止看不到加载效果\r\n  padding-top: 176px;\r\n  padding-bottom: 100px;\r\n\r\n  /deep/.van-nav-bar__title {\r\n    max-width: unset !important;\r\n  }\r\n  .search-btn {\r\n    width: 555px;\r\n    height: 64px;\r\n    background-color: #5babfb;\r\n    border: none;\r\n    font-size: 28px;\r\n    .van-icon {\r\n      font-size: 32px;\r\n    }\r\n  }\r\n\r\n  /deep/.channel-tabs {\r\n    .placeholder {\r\n      width: 66px;\r\n      height: 80px;\r\n      // 不参与flex宽度的计算\r\n      flex-shrink: 0;\r\n      margin-right: -16px;\r\n    }\r\n\r\n    // 更多按钮\r\n    .more-btn {\r\n      position: fixed;\r\n      right: 0;\r\n      width: 66px;\r\n      height: 80px;\r\n      display: flex;\r\n      justify-content: center;\r\n      align-items: center;\r\n      background-color: #fff;\r\n      opacity: 0.902;\r\n\r\n      i.toutiao {\r\n        font-size: 33px;\r\n      }\r\n\r\n      // 伪元素，左边的边框\r\n      &::before {\r\n        position: absolute;\r\n        content: '';\r\n        width: 2px;\r\n        height: 100%;\r\n        background-image: url(~@/assets/gradient-gray-line.png);\r\n        left: 0;\r\n        background-size: contain;\r\n      }\r\n    }\r\n\r\n    .van-tabs__wrap {\r\n      height: 82px;\r\n    }\r\n    .van-tab {\r\n      border-right: 1px solid #edeff3;\r\n      min-width: 200px;\r\n      // height: 80px;\r\n\r\n      font-size: 30px;\r\n      color: #777;\r\n    }\r\n\r\n    .van-tab--active {\r\n      color: #333;\r\n    }\r\n\r\n    .van-tabs__nav {\r\n      padding-bottom: 0;\r\n    }\r\n\r\n    .van-tabs__line {\r\n      width: 31px;\r\n      height: 6px;\r\n      background-color: #3296fa !important;\r\n      bottom: 8px;\r\n    }\r\n  }\r\n}\r\n</style>\r\n","import mod from \"-!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./index.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./index.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./index.vue?vue&type=template&id=5dfaee0c&scoped=true&\"\nimport script from \"./index.vue?vue&type=script&lang=js&\"\nexport * from \"./index.vue?vue&type=script&lang=js&\"\nimport style0 from \"./index.vue?vue&type=style&index=0&id=5dfaee0c&prod&lang=less&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/@vue/vue-loader-v15/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"5dfaee0c\",\n  null\n  \n)\n\nexport default component.exports","\r\n// 文章请求模块\r\nimport request from './request.js'\r\n\r\nexport const getArticle = (params) => {\r\n  return request({\r\n    method: 'GET',\r\n    url: '/v1_0/articles',\r\n    params\r\n  })\r\n}\r\n\r\n// 文章详情请求模块\r\nexport const getArticleDetail = articleId => {\r\n  return request({\r\n    method: 'GET',\r\n    url: `/v1_0/articles/${articleId}`\r\n  })\r\n}\r\n","import request from './request.js'\r\n\r\n// 导入store\r\n// import store from '@/store/index.js'\r\n\r\n// 对外暴露一个用户登录的方法\r\nexport const login = data => {\r\n  return request({\r\n    method: 'POST',\r\n    url: '/v1_0/authorizations',\r\n    data\r\n  })\r\n}\r\n\r\n// 发送验证码的方法\r\nexport const sendCode = mobile => {\r\n  return request({\r\n    method: 'GET',\r\n    url: `/v1_0/sms/codes/${mobile}`\r\n  })\r\n}\r\n\r\n// 获取用户个人信息\r\n// 需要携带token\r\n\r\nexport const getUserInfo = () => {\r\n  return request({\r\n    method: 'GET',\r\n    url: '/v1_0/user'\r\n    // headers: {\r\n    //   Authorization: `Bearer ${store.state.user.token}`\r\n    // }\r\n  })\r\n}\r\n\r\n// 获取用户的频道\r\nexport const getUserChannel = () => {\r\n  return request({\r\n    method: 'GET',\r\n    url: '/v1_0/user/channels'\r\n\r\n  })\r\n}\r\n\r\n// 关注用户\r\nexport const addFollow = target => {\r\n  return request({\r\n    method: 'POST',\r\n    url: '/v1_0/user/followings',\r\n    data: {\r\n      target\r\n    }\r\n  })\r\n}\r\n\r\n// 取消关注用户\r\nexport const CancelFollow = target => {\r\n  return request({\r\n    method: 'DELETE',\r\n    url: `/v1_0/user/followings/${target}`\r\n\r\n  })\r\n}\r\n\r\n// 添加收藏\r\nexport const addCollect = target => {\r\n  return request({\r\n    method: 'POST',\r\n    url: '/v1_0/article/collections',\r\n    data: {\r\n      target\r\n    }\r\n  })\r\n}\r\n\r\n// 取消添加收藏\r\nexport const CancelCollect = target => {\r\n  return request({\r\n    method: 'DELETE',\r\n    url: `/v1_0/article/collections/${target}`\r\n\r\n  })\r\n}\r\n\r\n// 点赞\r\nexport const addLike = target => {\r\n  return request({\r\n    method: 'POST',\r\n    url: '/v1_0/article/likings',\r\n    data: {\r\n      target\r\n    }\r\n  })\r\n}\r\n\r\n// 取消点赞\r\nexport const CancelLike = target => {\r\n  return request({\r\n    method: 'DELETE',\r\n    url: `/v1_0/article/likings/${target}`\r\n\r\n  })\r\n}\r\n\r\n// 获取用户个人资料\r\nexport const getUserProfile = () => {\r\n  return request({\r\n    method: 'GET',\r\n    url: '/v1_0/user/profile'\r\n\r\n  })\r\n}\r\n\r\n// 编辑用户个人资料\r\nexport const updateUserProfile = data => {\r\n  return request({\r\n    method: 'PATCH',\r\n    url: '/v1_0/user/profile',\r\n    data\r\n  })\r\n}\r\n\r\n// 编辑用户照片资料\r\nexport const updateUserPhoto = data => {\r\n  return request({\r\n    method: 'PATCH',\r\n    url: '/v1_0/user/photo',\r\n    data\r\n  })\r\n}\r\n"],"names":["render","_vm","this","_c","_self","staticClass","attrs","on","$event","$router","push","slot","_v","model","value","active","callback","$$v","expression","_l","channels","channel","key","id","name","isChannelEditShow","style","height","onUpdateActive","staticRenderFns","RefreshSuccessText","onRefresh","isRefreshLoading","finished","error","onLoad","loading","list","item","index","params","articleId","article","art_id","_s","title","cover","type","images","img","_e","aut_name","comm_count","_f","pubdate","props","required","data","mounted","methods","component","components","articleItem","timestamp","channel_id","with_top","console","onToggleEdit","editText","myChannels2","isEdit","fixedChannel","includes","onRemoveChannel","class","recommendChannels","onAddChannel","getAllChannels","request","url","method","addChannel","deleteUserChannel","channelId","allChannels","myChannels","computed","created","setItem","seq","articleList","channelEdit","getArticle","getArticleDetail","login","sendCode","mobile","getUserInfo","getUserChannel","addFollow","target","CancelFollow","addCollect","CancelCollect","addLike","CancelLike","getUserProfile","updateUserProfile","updateUserPhoto"],"sourceRoot":""}