{"version":3,"file":"js/672.b976bb08.js","mappings":"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","sources":["webpack://heima-toutiao/./src/views/article/index.vue","webpack://heima-toutiao/./src/components/follow-user/index.vue","webpack://heima-toutiao/src/components/follow-user/index.vue","webpack://heima-toutiao/./src/components/follow-user/index.vue?bdec","webpack://heima-toutiao/./src/components/follow-user/index.vue?5e92","webpack://heima-toutiao/./src/components/collect-article/index.vue","webpack://heima-toutiao/src/components/collect-article/index.vue","webpack://heima-toutiao/./src/components/collect-article/index.vue?9c04","webpack://heima-toutiao/./src/components/collect-article/index.vue?e1bc","webpack://heima-toutiao/./src/components/liked-article/index.vue","webpack://heima-toutiao/src/components/liked-article/index.vue","webpack://heima-toutiao/./src/components/liked-article/index.vue?fd40","webpack://heima-toutiao/./src/components/liked-article/index.vue?0d95","webpack://heima-toutiao/./src/views/article/component/comment-list/index.vue","webpack://heima-toutiao/./src/api/comment.js","webpack://heima-toutiao/./src/views/article/component/comment-item/index.vue","webpack://heima-toutiao/src/views/article/component/comment-item/index.vue","webpack://heima-toutiao/./src/views/article/component/comment-item/index.vue?67ff","webpack://heima-toutiao/./src/views/article/component/comment-item/index.vue?9ec0","webpack://heima-toutiao/src/views/article/component/comment-list/index.vue","webpack://heima-toutiao/./src/views/article/component/comment-list/index.vue?0b1b","webpack://heima-toutiao/./src/views/article/component/comment-list/index.vue?b37c","webpack://heima-toutiao/./src/views/article/component/comment-post/index.vue","webpack://heima-toutiao/src/views/article/component/comment-post/index.vue","webpack://heima-toutiao/./src/views/article/component/comment-post/index.vue?7bbd","webpack://heima-toutiao/./src/views/article/component/comment-post/index.vue?7811","webpack://heima-toutiao/./src/views/article/component/comment-reply/index.vue","webpack://heima-toutiao/src/views/article/component/comment-reply/index.vue","webpack://heima-toutiao/./src/views/article/component/comment-reply/index.vue?00c1","webpack://heima-toutiao/./src/views/article/component/comment-reply/index.vue?a581","webpack://heima-toutiao/src/views/article/index.vue","webpack://heima-toutiao/./src/views/article/index.vue?f7d5","webpack://heima-toutiao/./src/views/article/index.vue?09af","webpack://heima-toutiao/./src/api/article.js","webpack://heima-toutiao/./src/api/user.js"],"sourcesContent":["var render = function render(){var _vm=this,_c=_vm._self._c;return _c('div',{staticClass:\"article-container\"},[_c('van-nav-bar',{staticClass:\"page-nav-bar\",attrs:{\"left-arrow\":\"\",\"title\":\"黑马头条\"},on:{\"click-left\":function($event){return _vm.$router.back()}}}),_c('div',{staticClass:\"main-wrap\"},[(_vm.loading)?_c('div',{staticClass:\"loading-wrap\"},[_c('van-loading',{attrs:{\"color\":\"#3296fa\",\"vertical\":\"\"}},[_vm._v(\"加载中\")])],1):(_vm.article.title)?_c('div',{staticClass:\"article-detail\"},[_c('h1',{staticClass:\"article-title\"},[_vm._v(_vm._s(_vm.article.title))]),_c('van-cell',{staticClass:\"user-info\",attrs:{\"center\":\"\",\"border\":false}},[_c('van-image',{staticClass:\"avatar\",attrs:{\"slot\":\"icon\",\"round\":\"\",\"fit\":\"cover\",\"src\":_vm.article.aut_photo},slot:\"icon\"}),_c('div',{staticClass:\"user-name\",attrs:{\"slot\":\"title\"},slot:\"title\"},[_vm._v(_vm._s(_vm.article.aut_name))]),_c('div',{staticClass:\"publish-date\",attrs:{\"slot\":\"label\"},slot:\"label\"},[_vm._v(\" \"+_vm._s(_vm._f(\"relativeTime\")(_vm.article.pubdate))+\" \")]),_c('follow-user',{attrs:{\"aut_id\":_vm.article.aut_id},model:{value:(_vm.article.is_followed),callback:function ($$v) {_vm.$set(_vm.article, \"is_followed\", $$v)},expression:\"article.is_followed\"}})],1),_c('div',{ref:\"article-content\",staticClass:\"article-content markdown-body\",domProps:{\"innerHTML\":_vm._s(_vm.article.content)}}),_c('van-divider',[_vm._v(\"正文结束\")]),_c('van-cell',{attrs:{\"title\":\"全部评论\"}}),_c('comment-list',{attrs:{\"source\":_vm.article.art_id,\"list\":_vm.list},on:{\"onload-success\":function($event){_vm.totalComments = $event.total_count},\"reply-click\":_vm.onReplyClick}}),_c('div',{staticClass:\"article-bottom\"},[_c('van-button',{staticClass:\"comment-btn\",attrs:{\"type\":\"default\",\"round\":\"\",\"size\":\"small\"},on:{\"click\":function($event){_vm.PostcomShow = true}}},[_vm._v(\"写评论\")]),_c('van-icon',{attrs:{\"name\":\"comment-o\",\"info\":_vm.totalComments,\"color\":\"#777\"}}),_c('collect-article',{attrs:{\"article-id\":_vm.article.art_id},model:{value:(_vm.article.is_collected),callback:function ($$v) {_vm.$set(_vm.article, \"is_collected\", $$v)},expression:\"article.is_collected\"}}),_c('liked-article',{attrs:{\"article-id\":_vm.article.art_id},model:{value:(_vm.article.attitude),callback:function ($$v) {_vm.$set(_vm.article, \"attitude\", $$v)},expression:\"article.attitude\"}}),_c('van-icon',{attrs:{\"name\":\"share\",\"color\":\"#777777\"}})],1),_c('van-popup',{attrs:{\"position\":\"bottom\"},model:{value:(_vm.PostcomShow),callback:function ($$v) {_vm.PostcomShow=$$v},expression:\"PostcomShow\"}},[_c('comment-post',{attrs:{\"target\":_vm.article.art_id},on:{\"post-success\":_vm.onPostSuccess}})],1)],1):(_vm.errstatus === 404)?_c('div',{staticClass:\"error-wrap\"},[_c('van-icon',{attrs:{\"name\":\"failure\"}}),_c('p',{staticClass:\"text\"},[_vm._v(\"该资源不存在或已删除！\")])],1):_c('div',{staticClass:\"error-wrap\"},[_c('van-icon',{attrs:{\"name\":\"failure\"}}),_c('p',{staticClass:\"text\"},[_vm._v(\"内容加载失败！\")]),_c('van-button',{staticClass:\"retry-btn\",on:{\"click\":_vm.loadArticleDetail}},[_vm._v(\"点击重试\")])],1)]),_c('van-popup',{staticStyle:{\"height\":\"100%\"},attrs:{\"position\":\"bottom\"},model:{value:(_vm.isReplyShow),callback:function ($$v) {_vm.isReplyShow=$$v},expression:\"isReplyShow\"}},[(_vm.isReplyShow)?_c('comment-reply',{attrs:{\"replyComment\":_vm.currentComment},on:{\"close\":function($event){_vm.isReplyShow=false}}}):_vm._e()],1)],1)\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function render(){var _vm=this,_c=_vm._self._c;return (!_vm.value)?_c('van-button',{staticClass:\"follow-btn\",attrs:{\"type\":\"info\",\"color\":\"#3296fa\",\"round\":\"\",\"loading\":_vm.followLoading,\"size\":\"small\",\"icon\":\"plus\"},on:{\"click\":_vm.onFollow}},[_vm._v(\"关注\")]):_c('van-button',{staticClass:\"follow-btn\",attrs:{\"round\":\"\",\"size\":\"small\",\"loading\":_vm.followLoading},on:{\"click\":_vm.onFollow}},[_vm._v(\"已关注\")])\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n  <van-button\r\n    class=\"follow-btn\"\r\n    type=\"info\"\r\n    color=\"#3296fa\"\r\n    round\r\n    :loading=\"followLoading\"\r\n    size=\"small\"\r\n    icon=\"plus\"\r\n    v-if=\"!value\"\r\n    @click=\"onFollow\"\r\n    >关注</van-button\r\n  >\r\n  <van-button\r\n    v-else\r\n    class=\"follow-btn\"\r\n    round\r\n    size=\"small\"\r\n    :loading=\"followLoading\"\r\n    @click=\"onFollow\"\r\n    >已关注</van-button\r\n  >\r\n</template>\r\n\r\n<script>\r\n// 导入关注和取消关注的接口\r\nimport { addFollow, CancelFollow } from '@/api/user.js'\r\nexport default {\r\n  name: 'followUserIndex',\r\n\r\n  // 用于v-model 修改自定义名称，和自定义事件\r\n  model: {\r\n    name: 'value',\r\n    event: 'input'\r\n  },\r\n\r\n  props: {\r\n    value: {\r\n      type: Boolean,\r\n      required: true\r\n    },\r\n\r\n    aut_id: {\r\n      type: [Number, String, Object],\r\n      required: true\r\n    }\r\n  },\r\n\r\n  data () {\r\n    return {\r\n      followLoading: false\r\n      // value2: this.value\r\n    }\r\n  },\r\n\r\n  mounted () {},\r\n\r\n  methods: {\r\n    // 关注和取消关注\r\n\r\n    async onFollow () {\r\n      // 加载loading\r\n      this.followLoading = true\r\n\r\n      // 判断当前用户状态\r\n\r\n      try {\r\n        if (this.value) {\r\n        // 已经关注\r\n          await CancelFollow(this.aut_id)\r\n        } else {\r\n          await addFollow(this.aut_id)\r\n        }\r\n\r\n        // this.value2 = !this.value2\r\n        // this.$emit('update-followed', !this.value)\r\n        this.$emit('input', !this.value)\r\n      } catch (err) {\r\n        let message = '关注失败，请重试'\r\n        if (err.response && err.response.status === 400) {\r\n          message = '自己不能关注自己'\r\n        }\r\n        this.$toast(message)\r\n      }\r\n\r\n      this.followLoading = false\r\n    }\r\n  }\r\n}\r\n</script>\r\n\r\n<style lang=\"less\" scoped></style>\r\n","import mod from \"-!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./index.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./index.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./index.vue?vue&type=template&id=31d2d655&scoped=true&\"\nimport script from \"./index.vue?vue&type=script&lang=js&\"\nexport * from \"./index.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/@vue/vue-loader-v15/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"31d2d655\",\n  null\n  \n)\n\nexport default component.exports","var render = function render(){var _vm=this,_c=_vm._self._c;return _c('van-icon',{class:{\r\n    collected:_vm.value\r\n  },attrs:{\"color\":\"#777\",\"name\":_vm.value? 'star':'star-o',\"loading\":_vm.loading},on:{\"click\":_vm.onCollect}})\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n  <van-icon color=\"#777\" :name=\"value? 'star':'star-o'\" :class=\"{\r\n    collected:value\r\n  }\"\r\n  :loading=\"loading\"\r\n  @click=\"onCollect\"\r\n  />\r\n</template>\r\n\r\n<script>\r\n// 导入添加收藏和取消收藏的方法\r\nimport { addCollect, CancelCollect } from '@/api/user.js'\r\nexport default {\r\n  name: 'collectArticleIndex',\r\n\r\n  props: {\r\n    value: {\r\n      type: Boolean,\r\n      required: true\r\n    },\r\n\r\n    articleId: {\r\n      type: [Number, String, Object],\r\n      required: true\r\n    }\r\n  },\r\n\r\n  data () {\r\n    return {\r\n      loading: false\r\n    }\r\n  },\r\n\r\n  mounted () {\r\n\r\n  },\r\n\r\n  methods: {\r\n    async onCollect () {\r\n      this.loading = true\r\n      try {\r\n        if (this.value) {\r\n          // 已经收藏\r\n          await CancelCollect(this.articleId)\r\n        } else {\r\n          await addCollect(this.articleId)\r\n        }\r\n\r\n        this.$emit('input', !this.value)\r\n\r\n        this.$toast.success(this.value ? '取消收藏' : '收藏成功')\r\n      } catch (err) {\r\n        this.$toast.fail('操作失败，请稍后重试')\r\n      }\r\n\r\n      this.loading = false\r\n    }\r\n  }\r\n}\r\n</script>\r\n\r\n<style lang=\"less\" scoped>\r\n  .collected.van-icon{\r\n\r\n      color:orange !important;\r\n\r\n  }\r\n</style>\r\n","import mod from \"-!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./index.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./index.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./index.vue?vue&type=template&id=834d70aa&scoped=true&\"\nimport script from \"./index.vue?vue&type=script&lang=js&\"\nexport * from \"./index.vue?vue&type=script&lang=js&\"\nimport style0 from \"./index.vue?vue&type=style&index=0&id=834d70aa&prod&lang=less&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/@vue/vue-loader-v15/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"834d70aa\",\n  null\n  \n)\n\nexport default component.exports","var render = function render(){var _vm=this,_c=_vm._self._c;return _c('van-icon',{class:{\r\n    liked:_vm.value\r\n  },attrs:{\"color\":\"#777\",\"name\":_vm.value? 'good-job':'good-job-o',\"loading\":_vm.loading},on:{\"click\":_vm.onCollect}})\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n  <van-icon color=\"#777\" :name=\"value? 'good-job':'good-job-o'\" :class=\"{\r\n    liked:value\r\n  }\"\r\n  :loading=\"loading\"\r\n  @click=\"onCollect\"\r\n  />\r\n</template>\r\n\r\n<script>\r\n// 导入添加收藏和取消收藏的方法\r\nimport { addLike, CancelLike } from '@/api/user.js'\r\nexport default {\r\n  name: 'collectArticleIndex',\r\n\r\n  props: {\r\n    value: {\r\n      type: Number,\r\n      required: true\r\n    },\r\n\r\n    articleId: {\r\n      type: [Number, String, Object],\r\n      required: true\r\n    }\r\n  },\r\n\r\n  data () {\r\n    return {\r\n      loading: false\r\n    }\r\n  },\r\n\r\n  mounted () {\r\n\r\n  },\r\n\r\n  methods: {\r\n    async onCollect () {\r\n      this.loading = true\r\n      try {\r\n        if (this.value === 1) {\r\n          // 已经收藏\r\n          await CancelLike(this.articleId)\r\n        } else {\r\n          await addLike(this.articleId)\r\n        }\r\n\r\n        this.$emit('input', this.value === 1 ? 0 : 1)\r\n\r\n        this.$toast.success(this.value === 1 ? '取消点赞' : '点赞成功')\r\n      } catch (err) {\r\n        this.$toast.fail('操作失败，请稍后重试')\r\n      }\r\n\r\n      this.loading = false\r\n    }\r\n  }\r\n}\r\n</script>\r\n\r\n<style lang=\"less\" scoped>\r\n  .liked.van-icon{\r\n\r\n      color:rgb(243, 132, 58) !important;\r\n\r\n  }\r\n</style>\r\n","import mod from \"-!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./index.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./index.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./index.vue?vue&type=template&id=37347ffc&scoped=true&\"\nimport script from \"./index.vue?vue&type=script&lang=js&\"\nexport * from \"./index.vue?vue&type=script&lang=js&\"\nimport style0 from \"./index.vue?vue&type=style&index=0&id=37347ffc&prod&lang=less&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/@vue/vue-loader-v15/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"37347ffc\",\n  null\n  \n)\n\nexport default component.exports","var render = function render(){var _vm=this,_c=_vm._self._c;return _c('van-list',{attrs:{\"finished\":_vm.finished,\"finished-text\":\"没有更多了\",\"error\":_vm.error,\"error-text\":\"请求失败，点击重新加载\",\"immediate-check\":false},on:{\"update:error\":function($event){_vm.error=$event},\"load\":_vm.onLoad},model:{value:(_vm.loading),callback:function ($$v) {_vm.loading=$$v},expression:\"loading\"}},_vm._l((_vm.list),function(item,index){return _c('commentItem',{key:index,attrs:{\"comment\":item},on:{\"update-comLike\":function($event){item.is_liking = $event},\"update-comCount\":function($event){item.like_count=$event},\"reply-click\":function($event){return _vm.$emit('reply-click',$event)}}})}),1)\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","import request from './request.js'\r\n\r\n// 获取文章评论列表\r\nexport const getComment = (params) => {\r\n  return request({\r\n    method: 'GET',\r\n    url: '/v1_0/comments',\r\n    params\r\n  })\r\n}\r\n\r\n// 对评论进行点赞\r\nexport const addCommentLike = target => {\r\n  return request({\r\n    method: 'POST',\r\n    url: '/v1_0/comment/likings',\r\n    data: {\r\n      target\r\n    }\r\n  })\r\n}\r\n\r\n// 对评论进行取消点赞\r\nexport const cancelCommentLike = target => {\r\n  return request({\r\n    method: 'DELETE',\r\n    url: `/v1_0/comment/likings/${target}`\r\n  })\r\n}\r\n\r\n// 发表对文章或评论的评论\r\nexport const postComment = data => {\r\n  return request({\r\n    method: 'POST',\r\n    url: '/v1_0/comments',\r\n    data\r\n  })\r\n}\r\n","var render = function render(){var _vm=this,_c=_vm._self._c;return _c('van-cell',{staticClass:\"comment-item\"},[_c('van-image',{staticClass:\"avatar\",attrs:{\"slot\":\"icon\",\"round\":\"\",\"fit\":\"cover\",\"src\":_vm.comment.aut_photo},slot:\"icon\"}),_c('div',{staticClass:\"title-wrap\",attrs:{\"slot\":\"title\"},slot:\"title\"},[_c('div',{staticClass:\"user-name\"},[_vm._v(_vm._s(_vm.comment.aut_name))]),_c('van-button',{staticClass:\"like-btn\",class:{\r\n          liked:_vm.comment.is_liking\r\n        },attrs:{\"icon\":_vm.comment.is_liking? 'good-job':'good-job-o',\"loading\":_vm.loading},on:{\"click\":_vm.onCommentLike}},[_vm._v(_vm._s(_vm.comment.like_count || '赞'))])],1),_c('div',{attrs:{\"slot\":\"label\"},slot:\"label\"},[_c('p',{staticClass:\"comment-content\"},[_vm._v(_vm._s(_vm.comment.content))]),_c('div',{staticClass:\"bottom-info\"},[_c('span',{staticClass:\"comment-pubdate\"},[_vm._v(_vm._s(_vm._f(\"relativeTime\")(_vm.comment.pubdate)))]),_c('van-button',{staticClass:\"reply-btn\",attrs:{\"round\":\"\"},on:{\"click\":function($event){return _vm.$emit('reply-click',_vm.comment)}}},[_vm._v(\"回复 \"+_vm._s(_vm.comment.reply_count))])],1)])],1)\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n  <van-cell class=\"comment-item\">\r\n    <van-image\r\n      slot=\"icon\"\r\n      class=\"avatar\"\r\n      round\r\n      fit=\"cover\"\r\n      :src=\"comment.aut_photo\"\r\n    />\r\n    <div slot=\"title\" class=\"title-wrap\">\r\n      <div class=\"user-name\">{{comment.aut_name}}</div>\r\n      <van-button\r\n        class=\"like-btn\"\r\n        :icon=\"comment.is_liking? 'good-job':'good-job-o'\"\r\n        :class=\"{\r\n          liked:comment.is_liking\r\n        }\"\r\n        @click=\"onCommentLike\"\r\n        :loading=\"loading\"\r\n      >{{comment.like_count || '赞'}}</van-button>\r\n    </div>\r\n\r\n    <div slot=\"label\">\r\n      <p class=\"comment-content\">{{comment.content}}</p>\r\n      <div class=\"bottom-info\">\r\n        <span class=\"comment-pubdate\">{{comment.pubdate| relativeTime}}</span>\r\n        <van-button\r\n          class=\"reply-btn\"\r\n          round\r\n          @click=\"$emit('reply-click',comment)\"\r\n        >回复 {{comment.reply_count}}</van-button>\r\n      </div>\r\n    </div>\r\n  </van-cell>\r\n</template>\r\n\r\n<script>\r\n// 导入对评论的点赞和取消点赞\r\nimport { addCommentLike, cancelCommentLike } from '@/api/comment.js'\r\nexport default {\r\n  name: 'CommentItem',\r\n  components: {},\r\n  props: {\r\n    comment: {\r\n      type: Object,\r\n      required: true\r\n    }\r\n  },\r\n  data () {\r\n    return {\r\n      loading: false\r\n    }\r\n  },\r\n  computed: {},\r\n  watch: {},\r\n  created () {},\r\n  mounted () {},\r\n  methods: {\r\n\r\n    // 对评论的点赞和取消点赞的处理函数\r\n    async onCommentLike () {\r\n      this.loading = true\r\n      try {\r\n        if (this.comment.is_liking) {\r\n          // 已经点赞，取消点赞\r\n          await cancelCommentLike(this.comment.com_id)\r\n\r\n          this.$emit('update-comCount', this.comment.like_count - 1)\r\n        } else {\r\n          await addCommentLike(this.comment.com_id)\r\n          this.$emit('update-comCount', this.comment.like_count + 1)\r\n        }\r\n\r\n        this.$emit('update-comLike', !this.comment.is_liking)\r\n        // this.comment.is_liking = !this.comment.is_liking\r\n      } catch (err) {\r\n        this.$toast('操作失败，请稍后重试')\r\n      }\r\n\r\n      this.loading = false\r\n    }\r\n  }\r\n}\r\n</script>\r\n\r\n<style scoped lang=\"less\">\r\n.comment-item {\r\n  .avatar {\r\n    width: 72px;\r\n    height: 72px;\r\n    margin-right: 25px;\r\n  }\r\n  .title-wrap {\r\n    display: flex;\r\n    justify-content: space-between;\r\n    align-items: center;\r\n    .user-name {\r\n      color: #406599;\r\n      font-size: 26px;\r\n    }\r\n  }\r\n  .comment-content {\r\n    font-size: 32px;\r\n    color: #222222;\r\n    word-break: break-all;\r\n    text-align: justify;\r\n  }\r\n  .comment-pubdate {\r\n    font-size: 19px;\r\n    color: #222;\r\n    margin-right: 25px;\r\n  }\r\n  .bottom-info {\r\n    display: flex;\r\n    align-items: center;\r\n  }\r\n  .reply-btn {\r\n    width: 135px;\r\n    height: 48px;\r\n    line-height: 48px;\r\n    font-size: 21px;\r\n    color: #222;\r\n  }\r\n  .like-btn {\r\n    height: 30px;\r\n    padding: 0;\r\n    border: none;\r\n    font-size: 19px;\r\n    line-height: 30px;\r\n    margin-right: 7px;\r\n\r\n    &.liked{\r\n        color: orange;\r\n      }\r\n    .van-icon {\r\n      font-size: 30px;\r\n\r\n    }\r\n  }\r\n}\r\n</style>\r\n","import mod from \"-!../../../../../node_modules/thread-loader/dist/cjs.js!../../../../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../../../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./index.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../../node_modules/thread-loader/dist/cjs.js!../../../../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../../../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./index.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./index.vue?vue&type=template&id=3f5730e1&scoped=true&\"\nimport script from \"./index.vue?vue&type=script&lang=js&\"\nexport * from \"./index.vue?vue&type=script&lang=js&\"\nimport style0 from \"./index.vue?vue&type=style&index=0&id=3f5730e1&prod&scoped=true&lang=less&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../../node_modules/@vue/vue-loader-v15/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"3f5730e1\",\n  null\n  \n)\n\nexport default component.exports","<template>\r\n\r\n  <!-- immediate-check关闭滚动检查，即第一次不自动加载onload事件，手动执行（create生命周期已经执行了），重复执行\r\n    有重复数据 -->\r\n  <van-list\r\n    v-model=\"loading\"\r\n    :finished=\"finished\"\r\n    finished-text=\"没有更多了\"\r\n    :error.sync=\"error\"\r\n    error-text=\"请求失败，点击重新加载\"\r\n    @load=\"onLoad\"\r\n\r\n    :immediate-check=\"false\"\r\n\r\n  >\r\n  <!-- <span class=\"allComment\">全部评论</span> -->\r\n\r\n    <commentItem\r\n      v-for=\"(item, index) in list\"\r\n      :key=\"index\"\r\n      :comment=\"item\"\r\n      @update-comLike=\"item.is_liking = $event\"\r\n      @update-comCount=\"item.like_count=$event\"\r\n      @reply-click=\"$emit('reply-click',$event)\"\r\n    />\r\n  </van-list>\r\n</template>\r\n\r\n<script>\r\n// 导入获取评论的接口\r\nimport { getComment } from '@/api/comment.js'\r\n\r\n// 导入文章评论项组件\r\nimport commentItem from '@/views/article/component/comment-item/index.vue'\r\nexport default {\r\n  name: 'CommentListIndex',\r\n\r\n  props: {\r\n    source: {\r\n      type: [Number, String, Object],\r\n      required: true\r\n    },\r\n\r\n    list: {\r\n      type: Array,\r\n      default () {\r\n        return []\r\n      }\r\n    },\r\n\r\n    type: {\r\n      type: String,\r\n      default: 'a',\r\n      // 自定义props规则\r\n      validator (value) {\r\n        return ['a', 'c'].includes(value)\r\n      }\r\n    }\r\n  },\r\n\r\n  components: {\r\n    commentItem\r\n  },\r\n\r\n  data () {\r\n    return {\r\n      // list: [],\r\n      loading: false,\r\n      finished: false,\r\n      error: false,\r\n      offset: null,\r\n      limit: 10\r\n    }\r\n  },\r\n\r\n  mounted () {},\r\n\r\n  created () {\r\n    // 因为滚动到list组件的初始加载改为手动，首次loading不会加载，需要自己配置\r\n    this.loading = true\r\n    this.onLoad()\r\n  },\r\n\r\n  methods: {\r\n    // 获取文章评论\r\n    async onLoad () {\r\n      try {\r\n        const { data: res } = await getComment({\r\n          type: this.type,\r\n          source: this.source.toString(), // 可能超出整数范围\r\n          offset: this.offset,\r\n          limit: this.limit\r\n        })\r\n\r\n        console.log(res.data)\r\n\r\n        // eslint-disable-next-line vue/no-mutating-props\r\n        this.list.push(...res.data.results)\r\n\r\n        // 判断是否还有\r\n        if (res.data.results.length) {\r\n          this.offset = res.data.last_id\r\n        } else {\r\n          this.finished = true\r\n        }\r\n\r\n        this.$emit('onload-success', res.data)\r\n\r\n        this.loading = false\r\n      } catch (err) {\r\n        console.log(err.message)\r\n        this.error = true\r\n        this.loading = false\r\n      }\r\n    }\r\n  }\r\n}\r\n</script>\r\n\r\n<style lang=\"less\" scoped>\r\n  .allComment{\r\n    margin-left: 24px;\r\n    font-size: 30px;\r\n    line-height: 16px;\r\n    margin-bottom: 10px;\r\n  }\r\n</style>\r\n","import mod from \"-!../../../../../node_modules/thread-loader/dist/cjs.js!../../../../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../../../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./index.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../../node_modules/thread-loader/dist/cjs.js!../../../../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../../../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./index.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./index.vue?vue&type=template&id=58a352cc&scoped=true&\"\nimport script from \"./index.vue?vue&type=script&lang=js&\"\nexport * from \"./index.vue?vue&type=script&lang=js&\"\nimport style0 from \"./index.vue?vue&type=style&index=0&id=58a352cc&prod&lang=less&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../../node_modules/@vue/vue-loader-v15/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"58a352cc\",\n  null\n  \n)\n\nexport default component.exports","var render = function render(){var _vm=this,_c=_vm._self._c;return _c('div',{staticClass:\"comment-post\"},[_c('van-field',{staticClass:\"post-field\",attrs:{\"rows\":\"2\",\"autosize\":\"\",\"type\":\"textarea\",\"maxlength\":\"50\",\"placeholder\":\"请输入留言\",\"show-word-limit\":\"\"},model:{value:(_vm.message),callback:function ($$v) {_vm.message=(typeof $$v === 'string'? $$v.trim(): $$v)},expression:\"message\"}}),_c('van-button',{staticClass:\"post-btn\",attrs:{\"disabled\":_vm.message? false:true},on:{\"click\":_vm.onPost}},[_vm._v(\"发布\")])],1)\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n  <div class=\"comment-post\">\r\n    <van-field\r\n      class=\"post-field\"\r\n      v-model.trim=\"message\"\r\n      rows=\"2\"\r\n      autosize\r\n      type=\"textarea\"\r\n      maxlength=\"50\"\r\n      placeholder=\"请输入留言\"\r\n      show-word-limit\r\n    />\r\n    <van-button\r\n      class=\"post-btn\"\r\n      @click=\"onPost\"\r\n      :disabled=\"message? false:true\"\r\n    >发布</van-button>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\n// 导入发布评论的api\r\nimport { postComment } from '@/api/comment.js'\r\nexport default {\r\n  name: 'CommentPost',\r\n  components: {},\r\n  // 接收父组件的传值\r\n  // inject: ['articleId'],\r\n  inject: {\r\n    articleId: {\r\n      type: [Number, String, Object],\r\n      default: null\r\n    }\r\n\r\n  },\r\n  props: {\r\n    target: {\r\n      type: [Number, String, Object],\r\n      required: true\r\n    }\r\n  },\r\n  data () {\r\n    return {\r\n      message: ''\r\n    }\r\n  },\r\n  computed: {},\r\n  watch: {},\r\n  created () {},\r\n  mounted () {},\r\n  methods: {\r\n    // 发表评论\r\n    async onPost () {\r\n      this.$toast.loading({\r\n        message: '加载中...',\r\n        forbidClick: true,\r\n        duration: 0\r\n      })\r\n      try {\r\n        const { data: res } = await postComment({\r\n          target: this.target.toString(),\r\n          content: this.message,\r\n          art_id: this.articleId ? this.articleId.toString() : null\r\n        })\r\n\r\n        this.message = ''\r\n\r\n        console.log(res.data)\r\n\r\n        this.$emit('post-success', res.data)\r\n\r\n        this.$toast.success('发表评论成功')\r\n      } catch (err) {\r\n        this.$toast.fail('发表评论失败')\r\n      }\r\n    }\r\n  }\r\n}\r\n</script>\r\n\r\n<style scoped lang=\"less\">\r\n.comment-post {\r\n  display: flex;\r\n  align-items: center;\r\n  padding: 32px 0 32px 32px;\r\n  .post-field {\r\n    background-color: #f5f7f9;\r\n  }\r\n  .post-btn {\r\n    width: 150px;\r\n    border: none;\r\n    padding: 0;\r\n    color: #6ba3d8;\r\n    &::before {\r\n      display: none;\r\n    }\r\n  }\r\n}\r\n</style>\r\n","import mod from \"-!../../../../../node_modules/thread-loader/dist/cjs.js!../../../../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../../../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./index.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../../node_modules/thread-loader/dist/cjs.js!../../../../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../../../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./index.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./index.vue?vue&type=template&id=a331b7aa&scoped=true&\"\nimport script from \"./index.vue?vue&type=script&lang=js&\"\nexport * from \"./index.vue?vue&type=script&lang=js&\"\nimport style0 from \"./index.vue?vue&type=style&index=0&id=a331b7aa&prod&scoped=true&lang=less&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../../node_modules/@vue/vue-loader-v15/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"a331b7aa\",\n  null\n  \n)\n\nexport default component.exports","var render = function render(){var _vm=this,_c=_vm._self._c;return _c('div',{staticClass:\"comment-reply\"},[_c('van-nav-bar',{attrs:{\"title\":_vm.replyComment.reply_count>0? `${_vm.replyComment.reply_count}条回复`:'暂无回复'}},[_c('van-icon',{attrs:{\"slot\":\"left\",\"name\":\"cross\"},on:{\"click\":function($event){return _vm.$emit('close')}},slot:\"left\"})],1),_c('div',{staticClass:\"main-body\"},[_c('comment-item',{attrs:{\"comment\":_vm.replyComment}}),_c('van-cell',{attrs:{\"title\":\"全部回复\"}}),_c('comment-list',{attrs:{\"source\":_vm.replyComment.com_id,\"type\":'c',\"list\":_vm.commentList}})],1),_c('div',{staticClass:\"post-wrap\"},[_c('van-button',{staticClass:\"post-btn\",attrs:{\"round\":\"\",\"size\":\"small\"},on:{\"click\":function($event){_vm.isPostShow=true}}},[_vm._v(\"写评论\")])],1),_c('van-popup',{attrs:{\"position\":\"bottom\"},model:{value:(_vm.isPostShow),callback:function ($$v) {_vm.isPostShow=$$v},expression:\"isPostShow\"}},[_c('comment-post',{attrs:{\"target\":_vm.replyComment.com_id},on:{\"post-success\":_vm.onPostSuccess}})],1)],1)\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n  <div class=\"comment-reply\">\r\n  <van-nav-bar :title=\"replyComment.reply_count>0? `${replyComment.reply_count}条回复`:'暂无回复'\">\r\n    <van-icon slot=\"left\" name=\"cross\" @click=\"$emit('close')\"></van-icon>\r\n  </van-nav-bar>\r\n\r\n    <div class=\"main-body\">\r\n      <!-- 评论回复组件 -->\r\n    <comment-item :comment=\"replyComment\"></comment-item>\r\n\r\n    <van-cell title=\"全部回复\"></van-cell>\r\n\r\n    <!-- 评论回复列表 -->\r\n    <comment-list :source=\"replyComment.com_id\" :type=\"'c'\" :list=\"commentList\"></comment-list>\r\n    <!-- /评论回复列表 -->\r\n    </div>\r\n\r\n    <!-- 写评论 -->\r\n    <div class=\"post-wrap\">\r\n      <van-button class=\"post-btn\" round size=\"small\" @click=\"isPostShow=true\">写评论</van-button>\r\n    </div>\r\n\r\n    <!-- 写评论点击后的弹层 -->\r\n    <van-popup v-model=\"isPostShow\" position=\"bottom\">\r\n\r\n      <comment-post\r\n            :target=\"replyComment.com_id\"\r\n            @post-success=\"onPostSuccess\"\r\n          ></comment-post>\r\n    </van-popup>\r\n\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport commentItem from '../comment-item/index.vue'\r\n// 导入文章列表组件\r\nimport commentList from '../comment-list/index.vue'\r\n// 导入发表评论的组件\r\nimport commentPost from '../comment-post/index.vue'\r\nexport default {\r\n  name: 'commentReply',\r\n\r\n  components: {\r\n    commentItem,\r\n    commentList,\r\n    commentPost\r\n  },\r\n\r\n  props: {\r\n    replyComment: {\r\n      type: Object,\r\n      required: true\r\n    }\r\n  },\r\n\r\n  data () {\r\n    return {\r\n      // 回复评论的弹层\r\n      isPostShow: false,\r\n      commentList: []\r\n    }\r\n  },\r\n\r\n  mounted () {\r\n\r\n  },\r\n\r\n  methods: {\r\n    onPostSuccess (comment) {\r\n      // 评论回复发表成功\r\n      // eslint-disable-next-line vue/no-mutating-props\r\n      this.replyComment.reply_count++\r\n      this.isPostShow = false\r\n\r\n      // 显示最新的数据\r\n      this.commentList.unshift(comment.new_obj)\r\n    }\r\n  }\r\n}\r\n</script>\r\n\r\n<style lang=\"less\" scoped>\r\n\r\n  .main-body{\r\n    position: fixed;\r\n    left: 0;\r\n    right: 0;\r\n    bottom: 88px;\r\n    top: 92px;\r\n    overflow-y: auto;\r\n  }\r\n\r\n  .post-wrap{\r\n    position: fixed;\r\n    bottom: 0;\r\n    left: 0;\r\n    right: 0;\r\n    display: flex;\r\n    height: 88px;\r\n    justify-content: center;\r\n    align-items: center;\r\n    background-color: #fff;\r\n\r\n    border-top: 1px solid #d8d8d8;\r\n\r\n    .post-btn{\r\n      width: 60%;\r\n    }\r\n  }\r\n</style>\r\n","import mod from \"-!../../../../../node_modules/thread-loader/dist/cjs.js!../../../../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../../../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./index.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../../node_modules/thread-loader/dist/cjs.js!../../../../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../../../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./index.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./index.vue?vue&type=template&id=41348e90&scoped=true&\"\nimport script from \"./index.vue?vue&type=script&lang=js&\"\nexport * from \"./index.vue?vue&type=script&lang=js&\"\nimport style0 from \"./index.vue?vue&type=style&index=0&id=41348e90&prod&lang=less&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../../node_modules/@vue/vue-loader-v15/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"41348e90\",\n  null\n  \n)\n\nexport default component.exports","<template>\r\n  <div class=\"article-container\">\r\n    <!-- 导航栏 -->\r\n    <van-nav-bar\r\n      class=\"page-nav-bar\"\r\n      left-arrow\r\n      title=\"黑马头条\"\r\n      @click-left=\"$router.back()\"\r\n    ></van-nav-bar>\r\n    <!-- /导航栏 -->\r\n\r\n    <div class=\"main-wrap\">\r\n      <!-- 加载中 -->\r\n      <div class=\"loading-wrap\" v-if=\"loading\">\r\n        <van-loading color=\"#3296fa\" vertical>加载中</van-loading>\r\n      </div>\r\n      <!-- /加载中 -->\r\n\r\n      <!-- 加载完成-文章详情 -->\r\n      <div class=\"article-detail\" v-else-if=\"article.title\">\r\n        <!-- 文章标题 -->\r\n        <h1 class=\"article-title\">{{ article.title }}</h1>\r\n        <!-- /文章标题 -->\r\n\r\n        <!-- 用户信息 -->\r\n        <van-cell class=\"user-info\" center :border=\"false\">\r\n          <van-image\r\n            class=\"avatar\"\r\n            slot=\"icon\"\r\n            round\r\n            fit=\"cover\"\r\n            :src=\"article.aut_photo\"\r\n          />\r\n          <div slot=\"title\" class=\"user-name\">{{ article.aut_name }}</div>\r\n          <div slot=\"label\" class=\"publish-date\">\r\n            {{ article.pubdate | relativeTime }}\r\n          </div>\r\n\r\n          <!-- 这里使用了props传值的自定义事件\r\n\r\n              可以使用v-model,\r\n              等价于 props 为:value=\"article.is_followed\"\r\n              @input=\"article.is_followed=$event\"\r\n\r\n              可以修改props 和自定义事件的名称，在子组件使用model属性\r\n\r\n              ----------------------------\r\n              :is_followed=\"article.is_followed\"\r\n              @update-followed=\"article.is_followed=$event\"\r\n\r\n           -->\r\n          <follow-user\r\n            v-model=\"article.is_followed\"\r\n            :aut_id=\"article.aut_id\"\r\n          ></follow-user>\r\n          <!-- <van-button\r\n            class=\"follow-btn\"\r\n            type=\"info\"\r\n            color=\"#3296fa\"\r\n            round\r\n            :loading='followLoading'\r\n            size=\"small\"\r\n            icon=\"plus\"\r\n            v-if=\"!article.is_followed\"\r\n            @click=\"onFollow\"\r\n          >关注</van-button>\r\n          <van-button\r\n            v-else\r\n            class=\"follow-btn\"\r\n            round\r\n            size=\"small\"\r\n            :loading='followLoading'\r\n            @click=\"onFollow\"\r\n          >已关注</van-button> -->\r\n        </van-cell>\r\n        <!-- /用户信息 -->\r\n\r\n        <!-- 文章内容 -->\r\n        <div\r\n          class=\"article-content markdown-body\"\r\n          v-html=\"article.content\"\r\n          ref=\"article-content\"\r\n        ></div>\r\n        <van-divider>正文结束</van-divider>\r\n\r\n        <van-cell title=\"全部评论\"></van-cell>\r\n\r\n        <comment-list\r\n          :source=\"article.art_id\"\r\n          :list=\"list\"\r\n          @onload-success=\"totalComments = $event.total_count\"\r\n          @reply-click=\"onReplyClick\"\r\n        ></comment-list>\r\n\r\n        <!-- 底部区域 -->\r\n        <div class=\"article-bottom\">\r\n          <van-button\r\n            class=\"comment-btn\"\r\n            type=\"default\"\r\n            round\r\n            size=\"small\"\r\n            @click=\"PostcomShow = true\"\r\n            >写评论</van-button\r\n          >\r\n          <van-icon name=\"comment-o\" :info=\"totalComments\" color=\"#777\" />\r\n          <collect-article\r\n            v-model=\"article.is_collected\"\r\n            :article-id=\"article.art_id\"\r\n          ></collect-article>\r\n          <liked-article\r\n            v-model=\"article.attitude\"\r\n            :article-id=\"article.art_id\"\r\n          ></liked-article>\r\n          <!-- <van-icon color=\"#777\" name=\"star-o\" /> -->\r\n          <!-- <van-icon color=\"#777\" name=\"good-job-o\" /> -->\r\n          <van-icon name=\"share\" color=\"#777777\"></van-icon>\r\n        </div>\r\n        <!-- /底部区域 -->\r\n\r\n        <!-- 弹出层区域，发表评论 -->\r\n        <van-popup v-model=\"PostcomShow\" position=\"bottom\">\r\n          <comment-post\r\n            :target=\"article.art_id\"\r\n            @post-success=\"onPostSuccess\"\r\n          ></comment-post>\r\n        </van-popup>\r\n        <!-- 弹出层区域，发表评论/ -->\r\n      </div>\r\n      <!-- /加载完成-文章详情 -->\r\n\r\n      <!-- 加载失败：404 -->\r\n      <div class=\"error-wrap\" v-else-if=\"errstatus === 404\">\r\n        <van-icon name=\"failure\" />\r\n        <p class=\"text\">该资源不存在或已删除！</p>\r\n      </div>\r\n      <!-- /加载失败：404 -->\r\n\r\n      <!-- 加载失败：其它未知错误（例如网络原因或服务端异常） -->\r\n      <div class=\"error-wrap\" v-else>\r\n        <van-icon name=\"failure\" />\r\n        <p class=\"text\">内容加载失败！</p>\r\n        <van-button class=\"retry-btn\" @click=\"loadArticleDetail\"\r\n          >点击重试</van-button\r\n        >\r\n      </div>\r\n      <!-- /加载失败：其它未知错误（例如网络原因或服务端异常） -->\r\n    </div>\r\n\r\n    <!-- 评论回复 -->\r\n    <!-- 弹出层为懒加载，其中的内容只会在第一次被渲染，二次进入只会显示隐藏内容 -->\r\n    <van-popup v-model=\"isReplyShow\" position=\"bottom\" style=\"height:100%;\">\r\n      <!-- 123 -->\r\n      <!-- 设置v-if控制内容的销毁和创建，使内容变化 -->\r\n      <comment-reply :replyComment=\"currentComment\" @close=\"isReplyShow=false\" v-if=\"isReplyShow\"></comment-reply>\r\n    </van-popup>\r\n    <!-- /评论回复 -->\r\n  </div>\r\n</template>\r\n\r\n<script>\r\n// 导入文章详情获取接口\r\nimport { getArticleDetail } from '@/api/article.js'\r\n// 导入图片预览组件\r\nimport { ImagePreview } from 'vant'\r\n\r\n// // 导入关注和取消关注的接口\r\n// import { addFollow, CancelFollow } from '@/api/user.js'\r\n\r\n// 导入关注组件\r\nimport followUser from '@/components/follow-user/index.vue'\r\n\r\n// 导入收藏文章组件\r\nimport collectArticle from '@/components/collect-article/index.vue'\r\n\r\n// 导入点赞组件\r\nimport likedArticle from '@/components/liked-article/index.vue'\r\n\r\n// 导入评论列表组件\r\nimport commentList from './component/comment-list/index.vue'\r\n\r\n// 导入写评论的弹出层组件\r\nimport commentPost from './component/comment-post/index.vue'\r\n\r\n// 导入评论回复组件\r\nimport commentReply from './component/comment-reply/index.vue'\r\nexport default {\r\n  name: 'ArticleIndex',\r\n  components: {\r\n    followUser,\r\n    collectArticle,\r\n    likedArticle,\r\n    commentList,\r\n    commentPost,\r\n    commentReply\r\n  },\r\n  props: {\r\n    articleId: {\r\n      type: [Number, String, Object],\r\n      required: true\r\n    }\r\n  },\r\n\r\n  // 向所有的后代组件提供文章的id，子组件也需要配置是否接收，称为依赖注入\r\n  provide () {\r\n    return {\r\n      articleId: this.articleId\r\n    }\r\n  },\r\n  data () {\r\n    return {\r\n      article: {},\r\n      // 加载提示\r\n      loading: true,\r\n      // 错误码\r\n      errstatus: 0,\r\n\r\n      // 关注的加载提示\r\n      followLoading: false,\r\n\r\n      // 评论总数\r\n      totalComments: 0,\r\n\r\n      // 评论弹出层显示\r\n      PostcomShow: false,\r\n\r\n      // 评论列表\r\n      list: [],\r\n\r\n      // 评论回复的弹层是否显示\r\n      isReplyShow: false,\r\n\r\n      // 评论回复点击后传递过来的项\r\n      currentComment: {}\r\n    }\r\n  },\r\n  computed: {},\r\n  watch: {},\r\n  activated () {\r\n    this.loadArticleDetail()\r\n  },\r\n  mounted () {},\r\n  methods: {\r\n\r\n    // 孙子组件回复按钮被点击\r\n    onReplyClick (comment) {\r\n      this.currentComment = comment\r\n      this.isReplyShow = true\r\n      console.log(comment)\r\n    },\r\n\r\n    // 子组件发表评论成功\r\n    onPostSuccess (val) {\r\n      this.PostcomShow = false\r\n      console.log(val)\r\n      this.list.unshift(val.new_obj)\r\n    },\r\n\r\n    // // 关注和取消关注\r\n\r\n    // async onFollow () {\r\n    //   // 加载loading\r\n    //   this.followLoading = true\r\n\r\n    //   // 判断当前用户状态\r\n\r\n    //   try {\r\n    //     if (this.article.is_followed) {\r\n    //     // 已经关注\r\n    //       await CancelFollow(this.article.aut_id)\r\n    //     } else {\r\n    //       await addFollow(this.article.aut_id)\r\n    //     }\r\n\r\n    //     this.article.is_followed = !this.article.is_followed\r\n    //   } catch (err) {\r\n    //     let message = '关注失败，请重试'\r\n    //     if (err.response && err.response.status === 400) {\r\n    //       message = '自己不能关注自己'\r\n    //     }\r\n    //     this.$toast(message)\r\n    //   }\r\n\r\n    //   this.followLoading = false\r\n    // },\r\n\r\n    // 图片预览的方法\r\n\r\n    previewImg () {\r\n      // 获取所有的img节点\r\n      const container = this.$refs['article-content']\r\n\r\n      const imgs = container.querySelectorAll('img')\r\n\r\n      const images = []\r\n\r\n      imgs.forEach((img, index) => {\r\n        images.push(img.src)\r\n        img.onclick = () => {\r\n          ImagePreview({\r\n            images,\r\n            startPosition: index\r\n          })\r\n        }\r\n      })\r\n    },\r\n\r\n    async loadArticleDetail () {\r\n      this.loading = true\r\n      try {\r\n        const { data: res } = await getArticleDetail(this.articleId)\r\n        console.log(res)\r\n        this.article = res.data\r\n\r\n        // 获取文章数据后，dom元素还未更新，异步请求获取\r\n        setTimeout(() => {\r\n          // console.log(this.$refs['article-content'])\r\n          this.previewImg()\r\n        }, 0)\r\n      } catch (err) {\r\n        if (err.response && err.response.status === 404) {\r\n          this.errstatus = 404\r\n        }\r\n        this.$toast('文章详情获取失败')\r\n      }\r\n\r\n      this.loading = false\r\n    }\r\n  }\r\n}\r\n</script>\r\n\r\n<style scoped lang=\"less\">\r\n@import \"./github-markdown.css\";\r\n.article-container {\r\n  .main-wrap {\r\n    position: fixed;\r\n    left: 0;\r\n    right: 0;\r\n    top: 92px;\r\n    bottom: 88px;\r\n    overflow-y: scroll;\r\n    background-color: #fff;\r\n  }\r\n  .article-detail {\r\n    .article-title {\r\n      font-size: 40px;\r\n      padding: 50px 32px;\r\n      margin: 0;\r\n      color: #3a3a3a;\r\n    }\r\n\r\n    .user-info {\r\n      padding: 0 32px;\r\n      .avatar {\r\n        width: 70px;\r\n        height: 70px;\r\n        margin-right: 17px;\r\n      }\r\n      .van-cell__label {\r\n        margin-top: 0;\r\n      }\r\n      .user-name {\r\n        font-size: 24px;\r\n        color: #3a3a3a;\r\n      }\r\n      .publish-date {\r\n        font-size: 23px;\r\n        color: #b7b7b7;\r\n      }\r\n      .follow-btn {\r\n        width: 170px;\r\n        height: 58px;\r\n      }\r\n    }\r\n\r\n    .article-content {\r\n      padding: 55px 32px;\r\n      /deep/ p {\r\n        text-align: justify;\r\n      }\r\n    }\r\n  }\r\n\r\n  .loading-wrap {\r\n    padding: 200px 32px;\r\n    display: flex;\r\n    align-items: center;\r\n    justify-content: center;\r\n    background-color: #fff;\r\n  }\r\n\r\n  .error-wrap {\r\n    padding: 200px 32px;\r\n    display: flex;\r\n    flex-direction: column;\r\n    align-items: center;\r\n    justify-content: center;\r\n    background-color: #fff;\r\n    /deep/.van-icon {\r\n      font-size: 122px;\r\n      color: #b4b4b4;\r\n    }\r\n    .text {\r\n      font-size: 30px;\r\n      color: #666666;\r\n      margin: 33px 0 46px;\r\n    }\r\n    .retry-btn {\r\n      width: 280px;\r\n      height: 70px;\r\n      line-height: 70px;\r\n      border: 1px solid #c3c3c3;\r\n      font-size: 30px;\r\n      color: #666666;\r\n    }\r\n  }\r\n\r\n  .article-bottom {\r\n    position: fixed;\r\n    left: 0;\r\n    right: 0;\r\n    bottom: 0;\r\n    display: flex;\r\n    justify-content: space-around;\r\n    align-items: center;\r\n    box-sizing: border-box;\r\n    height: 88px;\r\n    border-top: 1px solid #d8d8d8;\r\n    background-color: #fff;\r\n    .comment-btn {\r\n      width: 282px;\r\n      height: 46px;\r\n      border: 2px solid #eeeeee;\r\n      font-size: 30px;\r\n      line-height: 46px;\r\n      color: #a7a7a7;\r\n    }\r\n    .van-icon {\r\n      font-size: 40px;\r\n      .van-info {\r\n        font-size: 16px;\r\n        background-color: #e22829;\r\n      }\r\n    }\r\n  }\r\n}\r\n</style>\r\n","import mod from \"-!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./index.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./index.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./index.vue?vue&type=template&id=72401af7&scoped=true&\"\nimport script from \"./index.vue?vue&type=script&lang=js&\"\nexport * from \"./index.vue?vue&type=script&lang=js&\"\nimport style0 from \"./index.vue?vue&type=style&index=0&id=72401af7&prod&scoped=true&lang=less&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/@vue/vue-loader-v15/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"72401af7\",\n  null\n  \n)\n\nexport default component.exports","\r\n// 文章请求模块\r\nimport request from './request.js'\r\n\r\nexport const getArticle = (params) => {\r\n  return request({\r\n    method: 'GET',\r\n    url: '/v1_0/articles',\r\n    params\r\n  })\r\n}\r\n\r\n// 文章详情请求模块\r\nexport const getArticleDetail = articleId => {\r\n  return request({\r\n    method: 'GET',\r\n    url: `/v1_0/articles/${articleId}`\r\n  })\r\n}\r\n","import request from './request.js'\r\n\r\n// 导入store\r\n// import store from '@/store/index.js'\r\n\r\n// 对外暴露一个用户登录的方法\r\nexport const login = data => {\r\n  return request({\r\n    method: 'POST',\r\n    url: '/v1_0/authorizations',\r\n    data\r\n  })\r\n}\r\n\r\n// 发送验证码的方法\r\nexport const sendCode = mobile => {\r\n  return request({\r\n    method: 'GET',\r\n    url: `/v1_0/sms/codes/${mobile}`\r\n  })\r\n}\r\n\r\n// 获取用户个人信息\r\n// 需要携带token\r\n\r\nexport const getUserInfo = () => {\r\n  return request({\r\n    method: 'GET',\r\n    url: '/v1_0/user'\r\n    // headers: {\r\n    //   Authorization: `Bearer ${store.state.user.token}`\r\n    // }\r\n  })\r\n}\r\n\r\n// 获取用户的频道\r\nexport const getUserChannel = () => {\r\n  return request({\r\n    method: 'GET',\r\n    url: '/v1_0/user/channels'\r\n\r\n  })\r\n}\r\n\r\n// 关注用户\r\nexport const addFollow = target => {\r\n  return request({\r\n    method: 'POST',\r\n    url: '/v1_0/user/followings',\r\n    data: {\r\n      target\r\n    }\r\n  })\r\n}\r\n\r\n// 取消关注用户\r\nexport const CancelFollow = target => {\r\n  return request({\r\n    method: 'DELETE',\r\n    url: `/v1_0/user/followings/${target}`\r\n\r\n  })\r\n}\r\n\r\n// 添加收藏\r\nexport const addCollect = target => {\r\n  return request({\r\n    method: 'POST',\r\n    url: '/v1_0/article/collections',\r\n    data: {\r\n      target\r\n    }\r\n  })\r\n}\r\n\r\n// 取消添加收藏\r\nexport const CancelCollect = target => {\r\n  return request({\r\n    method: 'DELETE',\r\n    url: `/v1_0/article/collections/${target}`\r\n\r\n  })\r\n}\r\n\r\n// 点赞\r\nexport const addLike = target => {\r\n  return request({\r\n    method: 'POST',\r\n    url: '/v1_0/article/likings',\r\n    data: {\r\n      target\r\n    }\r\n  })\r\n}\r\n\r\n// 取消点赞\r\nexport const CancelLike = target => {\r\n  return request({\r\n    method: 'DELETE',\r\n    url: `/v1_0/article/likings/${target}`\r\n\r\n  })\r\n}\r\n\r\n// 获取用户个人资料\r\nexport const getUserProfile = () => {\r\n  return request({\r\n    method: 'GET',\r\n    url: '/v1_0/user/profile'\r\n\r\n  })\r\n}\r\n\r\n// 编辑用户个人资料\r\nexport const updateUserProfile = data => {\r\n  return request({\r\n    method: 'PATCH',\r\n    url: '/v1_0/user/profile',\r\n    data\r\n  })\r\n}\r\n\r\n// 编辑用户照片资料\r\nexport const updateUserPhoto = data => {\r\n  return request({\r\n    method: 'PATCH',\r\n    url: '/v1_0/user/photo',\r\n    data\r\n  })\r\n}\r\n"],"names":["render","_vm","this","_c","_self","staticClass","attrs","on","$event","$router","back","loading","_v","article","title","_s","aut_photo","slot","aut_name","_f","pubdate","aut_id","model","value","is_followed","callback","$$v","$set","expression","ref","domProps","content","art_id","list","totalComments","total_count","onReplyClick","PostcomShow","is_collected","attitude","onPostSuccess","errstatus","loadArticleDetail","staticStyle","isReplyShow","currentComment","_e","staticRenderFns","followLoading","onFollow","name","event","props","type","required","data","mounted","methods","message","component","class","collected","onCollect","articleId","liked","finished","error","onLoad","_l","item","index","key","is_liking","like_count","$emit","getComment","params","request","method","url","addCommentLike","target","cancelCommentLike","postComment","comment","onCommentLike","reply_count","components","computed","watch","created","source","default","validator","commentItem","offset","limit","console","trim","onPost","inject","forbidClick","duration","replyComment","com_id","commentList","isPostShow","commentPost","followUser","collectArticle","likedArticle","commentReply","provide","activated","previewImg","imgs","images","img","ImagePreview","startPosition","setTimeout","getArticle","getArticleDetail","login","sendCode","mobile","getUserInfo","getUserChannel","addFollow","CancelFollow","addCollect","CancelCollect","addLike","CancelLike","getUserProfile","updateUserProfile","updateUserPhoto"],"sourceRoot":""}